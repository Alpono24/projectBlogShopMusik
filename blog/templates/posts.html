{% extends "base.html" %}
{% load static %}
{% block content %}
<div><a class="buttonSimpForm" href="{% url 'blog:add_post' %}">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</a></div>
    <h1 class="title_page">{{ title }}</h1>


       <!-- –ü–û–õ–ï –ü–û–ò–°–ö–ê –°–¢–ê–¢–¨–ò –°–¢–ê–†–¢ -->
    <form method="get" class="search-form">
        <div class="search-container">
            <input type="text" name="q" value="{{ request.GET.q }}" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å—Ç–∞—Ç—å–∏ –∏–ª–∏ —Å–ª–æ–≤—É –≤ —Å—Ç–∞—Ç—å–µ..."
                   class="search-input">
            <button class="search-button" type="submit">üîç –ù–∞–π—Ç–∏</button>
        </div>
    </form>
   <!-- –ü–û–õ–ï –ü–û–ò–°–ö–ê –°–¢–ê–¢–¨–ò –§–ò–ù–ò–® -->

    <!-- –§–ò–õ–¨–¢–† –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú –°–¢–ê–†–¢ -->
    <div class="post__category_styles">
        <strong>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</strong>
        <a class="post__category_buttons" href="{% url 'blog:posts' %}" class="xxx">–í—Å–µ</a>
        {% for category in categories %}
            <a class="post__category_buttons" href="?category={{ category.id }}" class="xxx">
                {{ category.name }}
            </a>
        {% endfor %}
    </div>
    <!-- –§–ò–õ–¨–¢–† –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú –§–ò–ù–ò–® -->



    <!-- –°–¢–ê–¢–¨–ò –°–¢–ê–†–¢ -->
    <div class="post__cards-wrapper">
        {% for post in page_obj %}
            <div class="post__card-wrapper">
                    <div class="post__title-box">
                        {% csrf_token %}
                        <div><h2 class="post__title-all">{{post.title}}</h2></div>
                        <div><a class="post__button-more" href="{% url 'blog:post_detail' post.id %}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></div>
                    </div>

                    <div class="post__body-img-wrapper">
                        <div class="post__body">{{post.body}}<div>

                        {% if post.image %}
                        <div class='post__img'><img class='post__img_img' src="{{ post.image.url }}" alt="{{ post.name }}"></div>
                        {% endif %}
                    </div>

                    <div class="post_info-blok">
                        <div class="post_info">–ê–≤—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: {{post.author}}</div>
                        <div class="post_info">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{post.category}}</div>
                        <div class="post_info">–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: {{post.created_at|date:"d.m.y H:i"}}</div>
                    </div>
            </div>
        {% endfor %}
    </div>
    <!-- –°–¢–ê–¢–¨–ò –§–ò–ù–ò–® -->



    <!-- –ü–ê–ì–ò–ù–ê–¶–ò–Ø –°–¢–ê–†–¢ -->
    <nav>
      <ul class="pagination">
        {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a></li>
        {% endif %}
        {% for num_page in page_obj.paginator.page_range %}
          {% if num_page == page_obj.number %}
              <li class="page-item active"><a class="page-link" href="#">{{ num_page }}</a></li>
          {% else %}
              <li class="page-item"><a class="page-link" href="?page={{ num_page }}">{{ num_page }}</a></li>
          {% endif %}
        {% endfor %}
        {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è</a></li>
        {% endif %}
      </ul>
    </nav>
    <!-- –ü–ê–ì–ò–ù–ê–¶–ò–Ø –§–ò–ù–ò–® -->


{% endblock %}